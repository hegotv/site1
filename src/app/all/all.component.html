<!-- ======================================================================= -->
<!-- SKELETON LOADING (VISIBILE DURANTE IL CARICAMENTO)                      -->
<!-- ======================================================================= -->
<div *ngIf="isLoading" class="skeleton-container fade-out">
  <!-- Skeleton Header -->
  <div class="all-shows-header">
    <div class="skeleton-title skeleton-box"></div>
  </div>

  <!-- Skeleton Grid (Rispecchia la griglia reale) -->
  <div class="category-grid skeleton-grid-override">
    <!-- Generiamo 8 card fittizie per riempire lo schermo -->
    <div class="skeleton-card skeleton-box"></div>
    <div class="skeleton-card skeleton-box"></div>
    <div class="skeleton-card skeleton-box"></div>
    <div class="skeleton-card skeleton-box"></div>
    <div class="skeleton-card skeleton-box"></div>
    <div class="skeleton-card skeleton-box"></div>
    <div class="skeleton-card skeleton-box"></div>
    <div class="skeleton-card skeleton-box"></div>
  </div>
</div>

<!-- ======================================================================= -->
<!-- CONTENUTO REALE (VISIBILE DOPO IL CARICAMENTO)                          -->
<!-- ======================================================================= -->
<div class="all-shows-container fade-in" *ngIf="!isLoading">
  <section class="all-shows-section">
    <div class="all-shows-header">
      <h1 class="section-title">{{ this.pageTitle }}</h1>
    </div>

    <div class="category-grid" *ngIf="displayShows.length > 0; else noAllShows">
      <!-- Itera sulla nuova lista di format raggruppati -->
      <div
        *ngFor="let show of displayShows"
        class="category-grid-item"
        (click)="goToSeason(show.slug)"
      >
        <img [src]="show.CatimageVert" [alt]="show.title" />
        <div class="category-grid-item-content">
          <h3>{{ show.title }}</h3>
          <p *ngIf="show.seasonCount > 1">{{ show.seasonCount }} stagioni</p>
          <p *ngIf="show.seasonCount === 1">
            {{ show.episodeCount }}
            {{ show.episodeCount === 1 ? "episodio" : "episodi" }}
          </p>
        </div>
      </div>
    </div>

    <ng-template #noAllShows>
      <p class="no-content-message">Nessuno show disponibile.</p>
    </ng-template>
  </section>
</div>

<app-footer *ngIf="!isLoading"></app-footer>
