<!-- Contenitore principale, visibile solo quando i dati non sono più in caricamento -->
<main class="all-podcasts-container" *ngIf="!isLoading; else loadingState">
  <!-- Intestazione della pagina -->
  <header class="page-header">
    <h1>{{ season?.title || "Stagione" }}</h1>
  </header>

  <!-- Griglia degli Episodi -->
  @if (season && season.episodes.length > 0) {
  <section class="episodes-grid">
    @for (episode of season.episodes; track episode.id) {
    <div class="episode-card" (click)="playPodcast(episode)" tabindex="0">
      <div class="card-artwork">
        <img [src]="episode.artwork_image" [alt]="episode.title" />
        <div class="play-overlay">
          <i class="fas fa-play"></i>
        </div>
      </div>
      <div class="card-info">
        <h3 class="card-title">Ep. {{ $index + 1 }} - {{ episode.title }}</h3>
        <p class="card-meta">{{ season.title }}</p>
      </div>
    </div>
    }
  </section>
  }

  <!-- Stato "Nessun Episodio" -->
  @if (!season || season.episodes.length === 0) {
  <div class="no-results-state">
    <i class="fas fa-podcast"></i>
    <h2>Nessun Episodio Trovato</h2>
    <p>Al momento non ci sono episodi disponibili per questa stagione.</p>
  </div>
  }
</main>

<!-- Stato di caricamento (visibile mentre isLoading è true) -->
<ng-template #loadingState>
  <div class="loading-container">
    <div class="spinner"></div>
    <p>Caricamento degli episodi...</p>
  </div>
</ng-template>
